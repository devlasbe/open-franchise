---
name: code-review
description: 커밋되지 않은 변경에 대한 포괄적인 보안 및 품질 리뷰
allowed-tools: Read, Grep, Glob, Bash
---

## 이 커맨드가 하는 일

1. 변경된 파일 가져오기: git diff --name-only HEAD
2. 각 변경된 파일에서 보안 및 품질 이슈 검사
3. 심각도별 리포트 생성
4. 치명적 또는 높음 이슈 발견 시 커밋 차단 권고

## 검사 항목

### 보안 이슈 (치명적)
- 하드코딩된 자격 증명, API 키, 토큰
- SQL 인젝션 취약점
- XSS 취약점
- 누락된 입력 검증

### 코드 품질 (높음)
- 50줄 초과 함수
- 800줄 초과 파일
- 4 레벨 초과 중첩
- 누락된 오류 처리
- console.log 문

## 승인 기준

| 결과 | 조건 | 조치 |
|------|------|------|
| 승인 | 치명적/높음 이슈 없음 | 커밋 가능 |
| 경고 | 중간 이슈만 | 주의하여 머지 가능 |
| 차단 | 치명적/높음 이슈 있음 | 수정 필요 |

**중요**: 보안 취약점이 있는 코드는 절대 승인하지 마세요!
